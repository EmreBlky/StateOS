#include <stm32f4_discovery.h>
#include <os.h>
#include <utility>

int main()
{
	auto led = Led();
	auto sem = BinarySemaphore(0);
	           startTask::create(0, [&] { sem.wait(); led.tick(); });
	auto mas = startTask::create(0, [&] { ThisTask::sleepFor(SEC); sem.give(); });
	mas->reset();
	auto tmp = std::move(*mas);
	tmp.start();
	ThisTask::exit();
}
